extends ../../layouts/default.pug
include ../../mixins/box-head.pug
include ../../mixins/alert.pug
//- // sử dụng full boostrap
block main
    +showAlertSuccess(5000)
    +showAlertError(5000)
    .product-detail
        .container.my-5
            .row.g-5
                .col-md-6
                    .ratio.ratio-4x3.bg-light.rounded.overflow-hidden(style="max-width: 500px; margin: 0 auto;")
                        img.img-fluid.w-100.h-100.object-fit-contain(
                            src=product.thumbnail, 
                            alt=product.title
                        )
                .col-md-6
                    h1.display-5.mb-3 #{product.title}

                    if product.category
                        .mb-2
                            span.text-muted.me-1 Danh mục: 
                            a.text-decoration-none.text-primary(
                                href=`/products/${product.category.slug}`
                            ) #{product.category.title}

                    if product.priceNew
                        .fs-4.fw-bold.text-success.mb-2 Giá mới: #{product.priceNew}$

                    if product.price
                        .text-decoration-line-through.text-muted.mb-2 Giá cũ: #{product.price}$

                    if product.discountPercentage
                        .badge.bg-danger.mb-2 Giảm tới #{product.discountPercentage}%

                    if product.stock
                        .mb-3
                            span.fw-semibold.text-dark Còn lại 
                            span.badge.bg-warning.text-dark.ms-1 #{product.stock}
                            | sản phẩm

                    form(action=`/cart/add/${product.id}` method="POST" class="mt-3")
                        .input-group.mb-3
                            input.form-control(
                                type="number"
                                name="quantity"
                                value="1"
                                min="1"
                                max=product.stock
                            )
                            button.btn.btn-success(type="submit") Thêm vào giỏ hàng

        hr

        .container.my-5
            .row
                .col-12
                    +box-head("Mô tả sản phẩm")
                    .inner-desc !{product.description}
