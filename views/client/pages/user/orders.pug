extends ../../layouts/default.pug
include ../../mixins/box-head.pug
include ../../mixins/alert.pug
block main
    +showAlertSuccess(5000)
    +showAlertError(5000)
    .container.my-3
        .row
            .col-12
                +box-head-center(title)

        .row
            .col-12
                .table-responsive
                    table.table.table-bordered.table-hover.align-middle
                        thead.table-dark
                            tr
                                th.text-center STT
                                th.text-center Mã đơn hàng
                                th.text-center Sản phẩm
                                th.text-center Số lượng
                                th.text-center Tổng tiền
                                th.text-center Trạng thái
                                th.text-center Xem chi tiết
                        tbody
                            if orders.length > 0
                                each order, index in orders
                                    tr
                                        td.text-center #{index + 1}
                                        td.text-center #{order.code ? order.code : 'N/A'}
                                        td.text-center
                                            img(src=order.firstProduct, alt="Ảnh sản phẩm", style="max-width: 60px; max-height: 60px;")
                                            if order.totalQuantity > 1
                                                span.ms-2.text-muted ...
                                        td.text-center #{order.totalQuantity}
                                        td.text-center
                                            span.badge.bg-success #{order.totalPrice}$
                                        td.text-center
                                            span.badge.bg-info #{order.status}
                                        td.text-center
                                            a.btn.btn-primary.btn-sm(href=`/checkout/success/${order.id}`) Xem chi tiết
                            else
                                tr
                                    td.text-center(colspan="6")
                                        em.text-muted Chưa có đơn hàng nào.
