extends ../../layouts/default.pug
include ../../mixins/filterStatus.pug
include ../../mixins/search.pug
block main
  h1 Danh sách sản phẩm

  .card.mb-3 
    .card-header Bộ lọc và tìm kiếm
      .card-body 
        .row 
          .col-6
            .btn-group
              +filterStatus(buttonStatus)
          .col-6 
            +search(keyword)
  
  .card.mb-3 
    .card-header Danh sách sản phẩm
      .card-body 
        table.table.table-hover.table-sm
          thead
            tr
              th STT
              th Hình ảnh
              th Tiêu đề
              th Giá
              th Trạng thái
              th Hành động
          tbody
              each product, index in products
                tr
                  td #{index + 1 + (pagination.currentPage - 1) * pagination.limitItems}
                  td
                      img(
                          src=product.thumbnail,
                          alt=product.title,
                          width="100px",
                          height="auto"
                      )
                  td #{product.title}
                  td #{product.price}$
                  td
                      if product.status === 'active'
                          a(href="#", class="badge text-bg-success rounded-pill") Hoạt động
                      else
                          a(href="#", class="badge text-bg-danger rounded-pill") Dừng hoạt động
                  td
                      button(type="button", class="btn btn-warning btn-sm") Sửa
                      button(type="button", class="btn btn-danger btn-sm ms-1") Xóa
  nav
    ul(class="pagination")
      li(class="page-item")
        button(
          class="page-link"
          button-pagination= `${Math.max(pagination.currentPage -1 , 1)}`
        ) Trang trước
      - for (let i = 1 ; i<= pagination.totalPage; i++)
        li(class=`page-item ${i === pagination.currentPage ? 'active' : ''}`) 
          button(
            class='page-link'
            button-pagination=i
          ) #{i}
      li(class="page-item")
        button(
          class="page-link"
          button-pagination= `${Math.min(pagination.currentPage + 1, pagination.totalPage)}`
        ) Kế tiếp